---
title: On-premise VM Infrastructure
nav: 4
---

![Infrastructure on VM](/imqa-onpremise-vm.png)

## 서버 요구 표준 사양

|Server| Specification | Description |
| --- | --- | --- |
| Proxy (VM\#1 public) | 4Core CPU, 8GB RAM, 128GB Storage, RHEL 8.4 또는 Ubuntu 20.04 이상  | 표준 사양 |
| Data Processor (VM\#1) | 8Core CPU, 32GB RAM, 128GB Storage, RHEL 8.4 또는 Ubuntu 20.04 이상  | 표준 사양 |
| Data Store (VM\#2) | 8Core CPU, 32GB RAM, 4000GB Storage, RHEL 8.4 또는 Ubuntu 20.04 이상  | 30일 데이터 보관 기준, 이하 표준 사양임 (사용량에 따라 실제 필요 저장공간은 늘어나거나 줄어들 수 있음) |
| RDBMS (VM\#3) | 4Core CPU, 16GB RAM, 128GB Storage, RHEL 8.4 또는 Ubuntu 20.04 이상  | 표준 사양 |
| Stack Engine (VM\#4) | 8Core CPU, 32GB RAM, 128GB Storage, RHEL 8.4 또는 Ubuntu 20.04 이상  | 표준 사양 |
| Web Server (VM\#5) | 8Core CPU, 32GB RAM, 128GB Storage, RHEL 8.4 또는 Ubuntu 20.04 이상  | 표준 사양 |

## 네트워크 트래픽 증가 및 용량 고려사항

### 스토리지 용량 고려사항

- 웹브라우저 기준 1건의 요청당 적게는 1개의 span, 많게는 10개 이상의 span이 발생함
- 1GB당 3M spans 저장 가능

### 트래픽 관련 고려사항

- 1span 당 최소 2kB 이상 최대 30kB 이하의 데이터 발생
- 1분당 1GB 이상의 트래픽 발생 시, 추가적인 로드밸런싱 된 VM을 구성하여 트래픽 분산이 필요함

## 네트워크 보안 정책

사용자 요구에 따라 네트워크 보안 정책을 변경 및 수정할 수 있습니다.

| 구간                           | 방화벽 정책                                                                                | 비고                                                       |
| ---------------------------- | ------------------------------------------------------------------------------------- | -------------------------------------------------------- |
| Internet -> 외부망              | FROM Any Source (port ANY), TO VM (External), Dest. port 80(TCP), 443(TCP)           | \-                                                       |
| 외부망 \-> 내부망                 | FROM VM#1 (External), TO VM#1 (Internal), Dest. port 4318(TCP)                       | \-                                                       |
| 내부망 -> 내부망 (VM간)           | FROM VMs (Internal), TO VMs (Internal), Dest. port all (TCP/UDP)                      | \-                                                       |
| PC -> 내부망 (VM)               | FROM User (Internal), TO VM#5 (Internal), Dest. port all (TCP)               | 내부 접속에도 포트 접근 제한이 필요한 경우 기술 협의 필요 (구성에 따라 port가 변할 수 있음), 단, 기본 구성의 경우 80(TCP), 443(TCP), 3000(TCP), 3080(TCP), 4000(TCP), 4080(TCP) 포트의 개방이 필요  |
